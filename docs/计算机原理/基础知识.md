---
title: 基础知识
date: 2020-12-13
---

```js
// 计算机发展简史
1. 电子管计算机 // 1946 - 1957 第一台电子管计算机是 埃尼阿克（ENIAC）
    1. 集成度小，空间占用大
    2. 功耗高，运行速度慢
    3. 操作复杂，更换程序需要接线
2. 晶体管计算机 // 1957 - 1964
    1. 集成度相对较高，空间占用相对小
    2. 功耗相对较低，运行速度较快
    3. 操作相对简单，交互更加方便
3. 集成电路计算机 // 1964 - 1980
    1. 计算机变得更小
    2. 功耗变得更低
    3. 计算速度变得更快
4. 超大规模集成电路计算机 // 1980 - 现在
    1. 一个芯片集成了上百万的晶体管
    2. 速度更快，体积更小，价格更低，更能被大众接收
    3. 用途丰富：文本处理、表格处理、高交互的游戏与应用
----------------------------------------------------------------------------------------------
// 计算机的分类
1. 超级计算机
    1. 功能最强、运算速度最快、存储量最大的计算机
    2. 多用于国家高科技领域和尖端技术研究
    3. 标记它们运算速度的单位是 TFLop/s // 1TFLop/s = 每秒一万亿次浮点计算
2. 大型计算机
    1. 又称大型机、大型主机、主机等
    2. 具有高性能，可处理大量数据与复杂的运算
    3. 在大型市场领域， IBM 占据着很大的份额
3. 迷你计算机 // 服务器，机房中的计算机
    1. 也称小型机，普通服务器
    2. 不需要特殊的空调场所
    3. 具备不错的算力，可以完成较复杂的运算
4. 工作站
    1. 高端的通用微型计算机，提供比个人计算机更强大的性能
    2. 类似于普通台式电脑，体积较大，但性能强劲
5. 微型计算机
    1. 又称为个人计算机，是最普通的一类计算机
----------------------------------------------------------------------------------------------
// 计算机的体系和结构
1. 冯诺依曼体系：将程序指令和数据一起存储的计算机设计概念结构
2. 早期的计算机仅含固定用途程序，改变程序就得更改结构，重新设计电路
3. 冯诺依曼体系的概念就是把程序存储起来并设计通用电路，即存储程序指令，设计通用电路
4. 必须有存储器、控制器、运算器、输入设备、输出设备 // 现代计算机都是冯诺依曼机
5. 冯诺依曼机：
    1. 能够把需要的程序和数据送至计算机中 // 输入设备
    2. 能够长期记忆程序、数据、中间结果及最终运算结果的能力 // 存储器
    3. 能够具备算术、逻辑运算和数据传送等数据加工处理的能力 // 控制器和运算器
    4. 能够按照要求将处理结果输出给用户
6. 冯诺依曼瓶颈：cpu = 运算器 + 控制器 // cpu 和存储器速率之间的问题无法调和
7. 现代计算机的结构：
    1. cpu = 运算器 + 控制器 + 存储器
    2. 现代计算机在冯诺依曼体系结构基础上进行修改
    3. 解决 cpu 与存储设备之间的性能差异问题
----------------------------------------------------------------------------------------------
// 计算机的层次与编程语言
1. 人类语言和计算机语言不相同，所以需要进行语言之间的转换
2. 什么是程序翻译？
    1. 使用高级的计算机语言通过编译器变成计算机能够执行的语言即为程序翻译
    2. 翻译过程会生成新的计算机执行程序
    3. C、C++、Golang、Object-C
3. 什么是程序解析？
    1. 使用高级的计算机语言作为输入，用计算机能够执行的程序进行转换（解析器）生成计算机能够执行的逻辑，就是程序解析
    2. 解析过程不生成新的计算机执行程序，而是直接执行
    3. 解析过程是由计算机能够执行的语言编写的解析器去解析计算机高级语言
    4. Python、php、javascript
4. java 和 c# 属于翻译 + 解析
    java 程序先要通过 jvm 虚拟机编译成 jvm 字节码再通过解释器变成机器码执行
5. 计算机的层次：硬件逻辑层 ——> 微程序机器层 ——> 传统机器层 ——> 操作系统层 ——> 汇编语言层 ——> 高级语言层 ——> 应用层
    1. 硬件逻辑层：门、触发器等逻辑电路组成，属于电子工程的领域
    2. 微程序机器层：编程语言是微指令集，微指令所组成的微程序直接交由硬件执行
    3. 传统机器层：
        1. 编程语言是 cpu 指令集（机器指令）
        2. 编程语言和硬件是直接相
        3. 不同架构的 cpu 使用不同的 cpu 指令集
        4. 一条机器指令对应一个微程序
        5. 一个微程序对应一组微指令
   4. 操作系统层：向上提供了简易的操作界面，向下对接了指令系统，管理硬件资源，操作系统层是在软件和硬件之间的适配层
   5. 汇编语言层：
      1. 编程语言是汇编语言
      2. 汇编语言可以翻译成可直接执行的机器语言
      3. 完成翻译的过程的程序就是汇编器
   6. 高级语言层：
      1. 编程语言为广大程序员所接受的高级语言
      2. 高级语言的类别非常多，有几百种，常见的有 Python、java、C、C++、Golang 等
   7. 应用层：满足计算机针对某种用途而专门设计 // word、ppt、xls
----------------------------------------------------------------------------------------------
// 计算机的计算单位
1. 容量单位 // 1024 = 2^10
    1. 在物理层面，高低电平记录信息
    2. 理论上只认识 0 和 1 两种状态 // 0 和 1 称为比特位 bit
    3. 8bit（比特位） = 1Byte（字节）// 常用于门电路
    4. 1024Byte（字节）= 1KB（千字节）// 常用于寄存器
    5. 1024KB（千字节）= 1MB（兆字节）// 常用于高速缓存
    6. 1024MB（兆字节）= 1GB（吉字节）// 常用于内存/硬盘
    7. 1024GB（吉字节）= 1TB（太字节）// 常用于硬盘
    8. 1024TB（太字节）= 1PB（拍字节）// 常用于云硬盘
    9. 1024PB（拍字节）= 1EB（艾字节） // 常用于数据仓库
    10. 1GB 内存可以存储多少字节的数据？可以存储多少比特数据？
        1GB = 1024^3Bytes = 1024^3 * 8bits
    11. 为什么网上买的移动硬盘 500GB，格式化后就只有 465GB？
        硬盘商一般用 10 进位标记容量 // (500 * 1000^3) / 1024^3 = 465
2. 速度单位
    1. 网络速度的 100M 宽度即 100M = 100M/s
    2. 为什么电信拉的 100M 光纤，测试峰值速度只有 12M 每秒？
        1. 网络常用单位为 Mbps // 需要除 8 相当于 bit ——> Byte 的换算，前面多了个 M 而已
        2. 100M/s = 100Mbps = 100Mbit/s = (100 / 8)MB/s = 12.5MB/s
    3. cpu 速度一般体现为 cpu 的时钟频率
    4. cpu 的时钟频率的单位一般是赫兹 // Hz
    5. 主流 cpu 的时钟频率都在 2GHz 以上
    6. Hz 其实就是秒分之一，它是每秒中的周期性变动重复次数的计量 // 人耳能听到的震动频率是 20 - 20000 Hz
    7. 并不是描述计算机领域所专有的单位 // 如蜜蜂翅膀每秒震动 400 次，即 400Hz 
    8. cpu 速度：2GHz = 2 * 1000^3Hz = 每秒 20 亿次
----------------------------------------------------------------------------------------------
// 计算机的字符和编码集
1. 字符编码集的历史：ASCLL 码 ——> Extended ASCLL 码 ——> 字符编码集的国际化
2. ASCLL 码：
    1. 使用 7 个 bits 就可以完全表示 ASCLL 码 // 33 + 95 = 2^7
    2. 包含 95 个可打印字符
    3. 33 个不可打印字符（包括控制字符）
    4. 因为很多应用或者国家中的符合都无法表示所以有了 Extended ASCLL 码
3. Extended ASCLL 码：
    1. 第一次对 ASCLL 码进行扩充，7bit ——> 8bit
    2. 扩充了常见的数学运算符、带音标的欧洲字符、其他常用符、表格符等
4. 字符编码集的国际化：
    1. 欧洲、中亚、东亚、拉丁美洲国家的语言多样性
    2. 语言体系不一样，不以有限字符组合的语言 // 不像英文是都是由 a-z 表示
    3. 中国、韩国、日本等的语言最为复杂
5. 中文编码集：
    1. GB2312 // 不符合国际标准
        1. 《信息交换用汉字编码字符集——基本集》
        2. 一共收录了 7445 个字符
        3. 包括 6763 个汉字和 682 个其他符号
    2. GBK // 对国内有效，如果外国人访问 GBK 的网站且没安装 GBK 则会显示乱码
        1. 《汉字内码扩展规范》
        2. 向下兼容 GB2312，向上支持国际 ISO 标准
        3. 收录了 21003 个汉字，支持全部中日韩汉字
        4. windows 系统默认使用 GBK 编码
    3. Unicode // 兼容全球的字符集
        1. 统一码、万国码、单一码
        2. Unicode 定义了世界通用的符号集，UTF-* 实现了编码 // UTF-8
        3. UTF-8 以字节为单位对 Unicode 进行编码
----------------------------------------------------------------------------------------------
// 计算机的总线
1. 总线的概述：
    1. USB 即 Universal Serial Bus // 通行串行总线
    2. 提供了对外连接的接口
    3. 不同设备可以通过 USB 接口进行连接
    4. 连接的标准，促使外围设备接口的统一
    5. 解决不同设备之间的通信问题
2. 总线的分类：
    1. 片内总线：
        1. 芯片内部的总线
        2. 寄存器与寄存器之间
        3. 寄存器与控制器、运算器之间
        4. 高集成度芯片内部的信息传输线
    2. 系统总线：
        1. cpu、主内存、IO 设备、各组件之间的信息传输线
        2. 数据总线：
            1. 双向传输各个部件的数据信息
            2. 数据总线的位数（总线宽度）是数据总线的重要参数
            3. 一般与 cpu 位数相同（32位、64位）
        3. 地址总线：
            1. 指定源数据或目的数据在内存中的地址
            2. 地址总线的位数与存储单元有关
            3. 地址总线位数 = n，寻找范围：0 - 2^n
        4. 控制总线:
            1. 控制总线是用来发出各种控制信号的传输线
            2. 控制信号经由控制总线从一个组件发给另外一个组件
            3. 控制总线可以监视不同组件之间的状态（就绪/未就绪）
3. 总线的仲裁：解决不同设备使用总线的优先顺序的设备 // 为了解决总线使用权的冲突问题
4. 总线的仲裁方法：
    1. 链式查询：// 顺序调用
        1. 好处：电路复杂度低，仲裁方式简单
        2. 坏处：优先级低的设备难以获得总线的使用权
        3. 坏处：对电路故障敏感
    2. 计时器定时查询：
        1. 仲裁控制器对设备编号并使用计数器累计计数
        2. 接收到仲裁信号后，往所有设备发出计数值
        3. 计数值与设备编号一致则获得总线使用权
    3. 独立请求：
        1. 每个设备均有总线独立连接仲裁器
        2. 设备可单独向仲裁器发送请求和接收请求
        3. 当同时收到多个请求信号，仲裁器有权按优先级分配使用权
        4. 好处：响应速度快，优先顺序可动态改变
        5. 坏处：设备连线多，总线控制复杂
----------------------------------------------------------------------------------------------
// 计算机的输入输出设备
1. 常见的输入设备：
    1. 字符输入设备：
        1. 键盘 // 薄膜键盘、机械键盘、电容键盘
    2. 图像输入设备：
        1. 鼠标
        2. 数位板
        3. 扫描仪
2. 常见的输出设备：
    1. 显示器
    2. 打印机
    3. 投影仪
3. 输入输出接口的通用设计：
    1. 数据线：
        1. 是 IO 设备与主机之间进行数据交换的传送线
        2. 单向传输数据线
        3. 双向传输数据线
    2. 状态线：
        1. IO 设备状态向主机报告的信号线
        2. 查询设备是否已经正常连接并就绪
        3. 查询设备是否已经被占用
    3. 命令线：
        1. cpu 向设备发送命令的信号线
        2. 发送读写信号
        3. 发送启动停止信号
    4. 设备选择线：
        1. 主机选择 IO 设备进行操作的信号线
        2. 对连接在总线上的设备进行选择
4. cpu 与 io 设备的通信：// CPU 速度与 IO 设备速度不一致
    1. 程序中断：
        1. 当外围 IO 设备就绪时，向 cpu 发出中断信号
        2. cpu 有专门的电路响应中断信号
        3. 提供低速设备通知 cpu 的一种异步的方式
        4. cpu 可以高速运转同时兼顾低速设备的响应
    2. DMA （直接存储器访问）
        1. DMA 直接连接主存与 IO 设备
        2. DMA 工作时不需要 cpu 的参与
        3. 当主存与 IO 设备交换信息时，不需要中断 cpu，可以提高 cpu 的效率
        4. 硬盘、外置显卡
----------------------------------------------------------------------------------------------
// 计算机的存储器
1. 存储器的分类：
    1. 按存储介质分类：
        1. 半导体存储器 // 内存、U盘、固态硬盘
        2. 磁存储器 // 磁带、磁盘
    2. 按存取方式分类：
        1. 随机存储器（RAM）// 随机读取、与位置无关
        2. 串行存储器 // 与位置有关、按顺序查找
        3. 只读存储器（ROM）// 只读不写
2. 存储器的层次结构：
    1. 读写速度
    2. 存储容量
    3. 价格
    4. 容量 + 价格 => 位价 // 每比特位价格
    5. 缓存 // cpu 的寄存器和高速缓存，速度最快，价格高
    6. 主存 // 计算机的内存，速度中，价格中
    7. 辅存 // 磁盘、u盘、移动硬盘，速度慢，价格低
    8. cpu <——> 高速缓存 <——> 主存：
        1. 缓存——主存层次
        2. 原理：局部性原理
        3. 实现：在 cpu 和主存之间增加一层速度快（容量小）的 cache
        4. 目的：解决主存速度不足的问题
    9. 主存 <——> 辅存
        1. 主存——辅存层次
        2. 原理：局部性原理
        3. 实现：主存之外增加辅助存储器（磁盘、SD卡、U盘等）
        4. 目的：解决主存容量不足的问题
----------------------------------------------------------------------------------------------
// 计算机的主存储器和辅助存储器
1. 主存储器——内存：
    1. RAM（随机存取存储器：Random Access Memory）
    2. RAM 通过电容存储数据，必须隔一段时间刷新一次
    3. 如果断电，那么一段时间后将丢失所有数据
    4. 32位系统对应的内存大小：2^32 = 4 * 2^30 = 4GB
    5. 64位系统对应的内存大小：2^64 = 2^34 * 2^30 = 2^34GB
2. 辅助存储器——磁盘：
    1. 表面是可磁化的硬磁特性材料
    2. 移动磁头径向运动读取磁道信息
    3. 算法：
        1. 先来先服务算法：
            1. 按顺序访问进程的磁道读写需求
        2. 最短寻道时间优先：
            1. 与磁头当前位置有关
            2. 优先访问离磁头最近的磁道
        3. 扫描算法（电梯算法）：
            1. 每次只往一个方向移动
            2. 到达一个方向需要服务的尽头再反方向移动
        4. 循环扫描算法：
            1. 读取时只往一个方向读取
----------------------------------------------------------------------------------------------
// 计算机的高速缓存
1. 工作原理：
    1. 字：是指存放在一个存储单元中的二进制代码组合
    2. 字块：存储在连续的存储单元中而被看做是一个单元的一组字
    3. 高速缓存来自于主存，存储逻辑结构类似，缓存的容量较小，缓存的速度更快
    4. 如果 cpu 需要的数据在缓存里就直接拿，如果不在，缓存则会去主存中拿
    5. 命中率是衡量缓存的重要性能指标
    6. 理论上 cpu 每次都能从高速缓存取数据的时候，命中率为 1
2. 替换策略
    1. 随机算法
    2. 先进先出算法（FIFO）
    3. 最不经常使用算法（LFU）
    4. 最近最少使用算法（LRU）
----------------------------------------------------------------------------------------------
// 计算机的指令系统
1. 机器指令的形式：
    1. 操作码：
        1. 操作码指明指令所要完成的操作
        2. 操作码的位数反映了机器的操作种类
    2. 地址码：
        1. 地址码直接给出操作数或者操作数的地址
        2. 分三地址指令、二地址指令、一地址指令、零地址码指令（在机器指令中无地址码，空操作、停机操作、中断返回操作等）
2. 机器指令的操作类型：
    1. 数据传输：
        1. 寄存器之间、寄存器与存储单元、存储单元之间
        2. 数据读写、交换地址数据、清零置一等操作
    2. 算术逻辑操作：
        1. 操作数之间的加减乘除运算
        2. 操作数的与或非等逻辑位运算
    3. 移位操作：
        1. 数据左移（乘2），数据右移（除2）
        2. 完成数据在算术逻辑单元的必要操作
    4. 控制指令：
        1. 等待指令、停机指令、空操作指令、中断指令等
3. 机器指令的寻址方式：
    1. 指令寻址：
        1. 顺序寻址
        2. 跳跃寻址
    2. 数据寻址：
        1. 立即寻址：// 优点：速度快 缺点：地址码位数限制操作数表示范围
            1. 指令直接获得操作数
            2. 无需访问存储器
        2. 直接寻址：// 优点：寻找操作数简单 缺点：地址码位数限制操作数寻址范围
            1. 直接给出操作数在主存的地址
            2. 寻找操作数简单，无需计算数据地址
        3. 间接寻址：// 优点：操作数寻址范围大 缺点：速度慢
            1. 指令地址码给出的是操作数地址的地址
            2. 需要访问一次或多次主存来获取操作数
----------------------------------------------------------------------------------------------
// 计算机的控制器
1. 控制器是协调和控制计算机运行的
2. 控制器：
    1. 程序计数器：
        1. 程序计数器用来存储下一条指令的地址
        2. 循环从程序计数器中拿出指令
        3. 当指令被拿出时，指向下一条指令
    2. 时序发生器：
        1. 电气工程领域，用于发送时序脉冲
        2. cpu 依据不同的时序脉冲有节奏的进行工作
    3. 指令译码器：
        1. 指令译码器是控制器的主要部件之一
        2. 计算机指令由操作码和地址码组成
        3. 翻译操作码对应的操作以及控制传输地址码对应的数据
    4. 各种寄存器
        1. 指令寄存器：
            1. 指令寄存器也是控制器的主要部件之一
            2. 从主存或高速缓存取计算机指令
        2. 主存地址寄存器：
            1. 保存当前 cpu 正要访问的内存单元的地址
        3. 主存数据寄存器：
            1. 保存当前 cpu 正要读或写的主存数据
        4. 通用寄存器：
            1. 用于暂时存放或传送数据或指令
            2. 可保存 ALU 的运算中间结果
            3. 容量比一般专用寄存器要大
    5. 总线
----------------------------------------------------------------------------------------------
// 计算机的运算器
1. 运算器是用来进行数据运算加工的
2. 运算器：
    1. 数据缓冲器：
        1. 分为输入缓冲和输出缓冲
        2. 出入缓冲暂时存放外设送过来的数据
        3. 输出缓冲暂时存放往外设的数据
    2. ALU：
        1. 算术逻辑单元，是运算器的主要组成
        2. 常见的位运算（左右移、与或非等）
        3. 算术运算（加减乘除等）
    3. 通用寄存器：
        1. 用于暂时存放或传送数据或指令
        2. 可保存 ALU 的运算中间结果
        3. 容量比一般专用寄存器要大
    4. 状态字寄存器：
        1. 存放运算状态（条件码、进位、溢出、结果正负等）
        2. 存放运算控制信息（调试跟踪标记位、允许中断位等）
    5. 总线
----------------------------------------------------------------------------------------------
// 计算机指令的执行过程
1. 指令执行过程：
    1. 取指令：
        1. 从缓存取指令
        2. 送到指令寄存器
    2. 分析指令：
        1. 指令译码器译码
        2. 发出控制信号
        3. 程序计数器 +1
    3. 执行指令：
        1. 装载数据到寄存器
        2. ALU 处理数据
        3. 记录运算状态
        4. 送出运算结果
2. cpu 的流水线设计：
    1. 类似工厂的装配线
    2. 工厂的装配线使得多个产品可以同时被加工
    3. 在同一个时刻，不同产品均位于不同的加工阶段
```