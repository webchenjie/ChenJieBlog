---
title: 进阶知识
date: 2020-11-07
---

```js
// iconfont
1. 相对于图片减少了请求数量和体积
2. 矢量图形，可伸缩
3. iconfont 可以直接通过 css 修改样式 // 颜色为单色
----------------------------------------------------------------------------------------------
// svg
1. 保持了图片能力，支持多色彩
2. 矢量图形
3. xml 语法，搜索引擎 seo 和无障碍读屏软件读取
----------------------------------------------------------------------------------------------
// flexbox
1. flexbox 布局比 float 布局消耗时间断
2. flexbox 结合媒体查询可以实现响应式 // 子元素 flex 属性
----------------------------------------------------------------------------------------------
// 优化资源加载的顺序
1. 可以在 network 的 priority 查看资源加载的优先级
2. 浏览器有默认的加载优先级：html ——> head 中的 js 和 css ——> dom 中的图片和字体
3. preload // 提前加载，较晚出现，对当前页面非常重要的资源，只管加载不管解析，所以必须要声明解析
    <link ref="preload" href="img/dog.svg" as="image" />
    <link ref="preload" href="font.woff2" as="font" crossorigin="anonymous" /> // 字体必须加 crossorigin 属性跨域
    webpack 中的 'import' 函数中的魔法注释原理就是这个
      import(/* webpackPreload: true */ url)
4. prefatch // 提前加载后继路由需要的资源，优先级低，会在页面加载完其他东西后进行加载,只管加载不管解析，所以必须要声明解析
    webpack 中的 'import' 函数中的魔法注释原理就是这个
    <link ref="prefatch" href="img/dog.svg" as="image" />
    import(/* webpackPreload: true */ url)
----------------------------------------------------------------------------------------------
// 预渲染
1. 大型单页应用的性能瓶颈：js 下载 + 解析 + 执行
2. ssr 的主要问题：牺牲 TTFB 来补救 First Paint 且实现复杂
3. 可以通过 Pre-rendering 在打包时提前渲染页面，且不用服务端参与
    React-Snap 是用来做 Pre-rendering 即预渲染的库 // npm install React-Snap -D
    原理是在 build 后会自动执行 postbuild，在后台打开类似 chrome 的浏览器去爬取页面
      在 package.json 中的 script 中配置 "postbuild": "react-snap"
      使用 ReactDOM.hydrate()
      内联样式，避免明显的 FOUC 即样式闪动
----------------------------------------------------------------------------------------------
// Windowing 窗口化提高列表性能
1. 加载大列表、大表单的每一行严重影响性能
2. Lazy loading 仍然会让 DOM 变得过大
3. windowing 只渲染可见的行，渲染和滚动的性能都会提升
4. npm install react-window -D
----------------------------------------------------------------------------------------------
// 使用骨架组件减少布局移动
1. npm intsall react-placeholder -D
```