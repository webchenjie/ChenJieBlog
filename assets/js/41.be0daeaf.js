(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{626:function(e,i,s){"use strict";s.r(i);var a=s(8),t=Object(a.a)({},(function(){var e=this,i=e.$createElement,s=e._self._c||i;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h2",{attrs:{id:"什么是-js-bridge"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#什么是-js-bridge"}},[e._v("#")]),e._v(" 什么是 JS Bridge?")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[e._v("- JS 无法直接调用 native API，即 App 的 API\n- 需要通过一些特定的`格式`来调用\n- 这些`格式`就统称 JS-Bridge，例如微信 JSSDK\n")])])]),s("h2",{attrs:{id:"概念理解"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#概念理解"}},[e._v("#")]),e._v(" 概念理解")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[e._v("- 一个操作系统即 OS 下会有多个 App\n- 一个 App 中会有一个 webview 组件，用来承载网页展示\n- 如微信 App 可以打开网页，其实它有一个 webview 的组件来承载\n- 如 chrome 浏览器，它其实也是一个 App，只不过是一个以 webview 为主的 App\n")])])]),s("h2",{attrs:{id:"js-bridge-的原理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#js-bridge-的原理"}},[e._v("#")]),e._v(" JS Bridge 的原理")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[e._v("- App 会往 webview 组件去提供封装好丰富的 API\n- JS 再去调用对应的 API\n- 中间这个提供封装好丰富的 API 就是 JS Bridge\n- 注意：如果有涉及到网络请求的 API，会先到 App 层面，再由 App 进行处理\n")])])]),s("h2",{attrs:{id:"js-bridge-常见的方式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#js-bridge-常见的方式"}},[e._v("#")]),e._v(" JS Bridge 常见的方式")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[e._v("- 注册全局 API\n- URL Scheme\n")])])]),s("h2",{attrs:{id:"android、ios-和-web-双向通讯的对比"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#android、ios-和-web-双向通讯的对比"}},[e._v("#")]),e._v(" Android、iOS 和 Web 双向通讯的对比")]),e._v(" "),s("ul",[s("li",[e._v("相同点：\n"),s("ul",[s("li",[e._v("都是通过 WebView 来完成网页的加载")]),e._v(" "),s("li",[e._v("都是通过向 Window 注入对象的方式来提供可被 Web 端调用的方法")]),e._v(" "),s("li",[e._v("都可以直接调用 Web 端挂载到 window 对象下的方法")])])]),e._v(" "),s("li",[e._v("不同点：\n"),s("ul",[s("li",[e._v("注入对象不同：Android 可提供注入对象名，iOS 固定为 webkit")]),e._v(" "),s("li",[e._v("Js 调用 Native 方式不同：\n"),s("ul",[s("li",[e._v("面向 Android 可直接获取注入对象，调用方法")]),e._v(" "),s("li",[e._v("面向 iOS 为相对固定写法：window.webkit.messageHandlers.方法名.postMessage('入参对象')")])])]),e._v(" "),s("li",[e._v("传递数据格式不同：\n"),s("ul",[s("li",[e._v("面向 Android 只能接受基本类型数据")]),e._v(" "),s("li",[e._v("面向 iOS 可以接受任意类型数据")])])]),e._v(" "),s("li",[e._v("返回值不同：\n"),s("ul",[s("li",[e._v("面向 Android 可以直接接收返回值")]),e._v(" "),s("li",[e._v("面向 iOS 没有办法直接获取返回值，需要通过 js 回调")])])])])])]),e._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",[e._v("作者：chenjie "),s("br"),e._v("\n链接：https://webchenjie.cn "),s("br"),e._v("\n来源：ChenJieBlog")])])])}),[],!1,null,null,null);i.default=t.exports}}]);