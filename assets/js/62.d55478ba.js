(window.webpackJsonp=window.webpackJsonp||[]).push([[62],{488:function(v,_,a){"use strict";a.r(_);var t=a(2),i=Object(t.a)({},(function(){var v=this,_=v._self._c;return _("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[_("h2",{attrs:{id:"简述"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#简述"}},[v._v("#")]),v._v(" 简述")]),v._v(" "),_("h3",{attrs:{id:"音视频的应用"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#音视频的应用"}},[v._v("#")]),v._v(" 音视频的应用")]),v._v(" "),_("ul",[_("li",[v._v("互动直播系统，如一对一视频等")]),v._v(" "),_("li",[v._v("娱乐直播系统，如主播等")]),v._v(" "),_("li",[v._v("音视频特效")]),v._v(" "),_("li",[v._v("音视频编辑")])]),v._v(" "),_("h3",{attrs:{id:"常用工具"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#常用工具"}},[v._v("#")]),v._v(" 常用工具")]),v._v(" "),_("ul",[_("li",[v._v("ffmpeg 对音视频的编码解码，特效处理等")]),v._v(" "),_("li",[v._v("ffplay 基于 ffmpeg，播放器")]),v._v(" "),_("li",[v._v("vlc 依赖于 ffmpeg，播放器，有图形化界面")])]),v._v(" "),_("h3",{attrs:{id:"如何安装"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#如何安装"}},[v._v("#")]),v._v(" 如何安装")]),v._v(" "),_("ul",[_("li",[v._v("Mac 使用命令安装 brew install ffmpeg")]),v._v(" "),_("li",[v._v("Mac/Linux 源码方式安装\n"),_("ul",[_("li",[v._v("下载 ffmpeg，http://ffmpeg.org/download.html")]),v._v(" "),_("li",[v._v("编译 ffmpeg\n"),_("ul",[_("li",[v._v("./configure --prefix=/usr/local/ffmpeg --enable-debug=3 （生成编译脚本，并打开调试模式）")]),v._v(" "),_("li",[v._v("make -j 4 （指定四个进程同时进行编译）")]),v._v(" "),_("li",[v._v("make install（安装）")])])])])]),v._v(" "),_("li",[v._v("Windows 编译方式\n"),_("ul",[_("li",[v._v("Cygwin（Cygnus Windows） 直接安装")]),v._v(" "),_("li",[v._v("MinGW（Minimalist GNU for Windows） + MSYS2（Minimal SYStem2）（推荐）")]),v._v(" "),_("li",[v._v("VS（Visual Studio 2015/2017...） + MSYS2（Minimal SYStem2）")])])])]),v._v(" "),_("h3",{attrs:{id:"音视频处理流程"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#音视频处理流程"}},[v._v("#")]),v._v(" 音视频处理流程")]),v._v(" "),_("ul",[_("li",[v._v("直播客户端的处理流程\n"),_("ul",[_("li",[v._v("音视频采集 ==> 音视频编码 ==> 传输 ==> 音视频解码 ==> 音视频渲染")])])])]),v._v(" "),_("h2",{attrs:{id:"音频"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#音频"}},[v._v("#")]),v._v(" 音频")]),v._v(" "),_("h3",{attrs:{id:"声音是如何被听到的"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#声音是如何被听到的"}},[v._v("#")]),v._v(" 声音是如何被听到的")]),v._v(" "),_("blockquote",[_("p",[v._v("人类听觉范围在：20Hz —— 20kHz 之间")])]),v._v(" "),_("ul",[_("li",[v._v("声音是由物体振动产生的")]),v._v(" "),_("li",[v._v("它可以通过空气、固体、液体等进行传输")]),v._v(" "),_("li",[v._v("振动耳膜")])]),v._v(" "),_("h3",{attrs:{id:"声音三要素"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#声音三要素"}},[v._v("#")]),v._v(" 声音三要素")]),v._v(" "),_("ul",[_("li",[v._v("音调")]),v._v(" "),_("li",[v._v("音量")]),v._v(" "),_("li",[v._v("音色")])]),v._v(" "),_("h3",{attrs:{id:"模数转换-模拟信号转数字信号"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#模数转换-模拟信号转数字信号"}},[v._v("#")]),v._v(" 模数转换（模拟信号转数字信号）")]),v._v(" "),_("ul",[_("li",[v._v("对声音进行量化，即采样，常见的采样率有 48000/s、32000/s、16000/s、8000/s，采样率越高，还原度越高")]),v._v(" "),_("li",[v._v("拿到采样结果再转为二进制格式，采样一般是十进制，最后得到二进制方波")])]),v._v(" "),_("h3",{attrs:{id:"音频原始数据格式"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#音频原始数据格式"}},[v._v("#")]),v._v(" 音频原始数据格式")]),v._v(" "),_("ul",[_("li",[v._v("PCM （纯粹的原始数据）")]),v._v(" "),_("li",[v._v("WAV （在 PCM 上加了些基本的头信息，便于播放器识别）\n"),_("ul",[_("li",[v._v("头信息包含了 WAV 的标识，也包含了采样大小、采样率、声道数等信息，也就是说可以通过头信息得到对应文件的信息")])])]),v._v(" "),_("li",[v._v("量化的基本概念\n"),_("ul",[_("li",[v._v("采样大小：一个采样用多少 bit 存放，常用的是 16bit")]),v._v(" "),_("li",[v._v("采样率：采样频率 8k、16k、32k、44.1k、48k")]),v._v(" "),_("li",[v._v("声道数：单声道、双声道、多声道（立体声）")])])]),v._v(" "),_("li",[v._v("码率计算：\n"),_("ul",[_("li",[v._v("一个 PCM 音频流的码率计算 = 采样率 * 采样大小 * 声道数")]),v._v(" "),_("li",[v._v("例子：采样率为 44.1KHz，采样大小为 16bit，双声道的 PCM 编码的 WAV 文件，它的码率为 44.1K * 16 * 2 = 1411.2Kb/s")])])])]),v._v(" "),_("h3",{attrs:{id:"音频数据的流转"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#音频数据的流转"}},[v._v("#")]),v._v(" 音频数据的流转")]),v._v(" "),_("ul",[_("li",[v._v("PCM（采集到的原始数据，即数字信号）==> aac/mp3（编码器，即得到压缩后的数据）==> mp4/flv（多媒体文件，格式）")]),v._v(" "),_("li",[v._v("以上步骤，可以反过来，即从一个多媒体文件解析成原始数据")])]),v._v(" "),_("h3",{attrs:{id:"音频采集"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#音频采集"}},[v._v("#")]),v._v(" 音频采集")]),v._v(" "),_("ul",[_("li",[v._v("各个平台都有对应的 API，如 Android、iOS、Windows，并且每个平台都有多套的 API")]),v._v(" "),_("li",[v._v("而 FFmpeg 封装了各个平台的 API，可以兼容各个平台")]),v._v(" "),_("li",[v._v("通过命令采集\n"),_("ul",[_("li",[v._v("ffmpeg -f avfoundation -i :0 out.wav（注意这个 avfoundation 和 :0，是 Mac 平台下的 API，如果是其他平台则需要使用其他平台的 API，可到官网搜索）")]),v._v(" "),_("li",[v._v("ffplay out.")])])])]),v._v(" "),_("div",{staticClass:"custom-block tip"},[_("p",{staticClass:"title"}),_("p",[v._v("作者：chenjie "),_("br"),v._v("\n链接：https://webchenjie.cn "),_("br"),v._v("\n来源：ChenJieBlog")])])])}),[],!1,null,null,null);_.default=i.exports}}]);