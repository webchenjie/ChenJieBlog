(window.webpackJsonp=window.webpackJsonp||[]).push([[58],{653:function(s,t,a){"use strict";a.r(t);var r=a(11),n=Object(r.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// localStorage")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.")]),s._v(" localStorage数据会永久存储"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("除非代码或手动删除\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.")]),s._v(" 大小5M，指的是字符的长度或 utf"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(" 的编码单元，注意字符的个数并不等于字符的长度\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.")]),s._v(" localStorage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getItem")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'key'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 查询")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.")]),s._v(" localStorage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("setItem")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'key'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'val'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 设置")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5.")]),s._v(" localStorage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("removeItem")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'key'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 删除单个")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6.")]),s._v(" localStorage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("clear")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 删除全部")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7.")]),s._v(" 在web开发时可以使用 "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'web-storage-cache'")]),s._v(" 这个库来简化操作\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8.")]),s._v(" localStorage会跨标签页存储\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9.")]),s._v(" 与 vuex 和 redux 的区别\n   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.")]),s._v(" vuex 和 redux 存储在内存，localstorage 则以文件的方式存储在本地\n   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.")]),s._v(" vuex 和 redux 用于组件之间的传值，localstorage 则主要用于不同页面之间的传值\n   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.")]),s._v(" 当刷新页面时 vuex 和 redux 存储的值会丢失，localstorage 不会\n   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.")]),s._v(" localStorage 能否代替 vuex 或 redux\n      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.")]),s._v(" 对于不变的数据确实可以，但是当两个组件共用一个数据源（对象或数组）时\n         如果其中一个组件改变了该数据源，希望另一个组件响应该变化时，localstorage无法做到，原因就是区别"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.")]),s._v(" web"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("storage"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("cache "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// localStorage 封装库")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11.")]),s._v(" localStorage 存储的键值用的 "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("UTF")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(" 字符编码\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12.")]),s._v(" localStorage 的键是占空间的，也就是说 key 的大小也是有影响的\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// sessionStorage")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.")]),s._v(" sessionStorage数据只会存在于当前会话"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("浏览器关闭则清除\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.")]),s._v(" 大小5M，指的是字符的长度或 utf"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(" 的编码单元，注意字符的个数并不等于字符的长度\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.")]),s._v(" sessionStorage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getItem")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'key'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 查询")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.")]),s._v(" sessionStorage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("setItem")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'key'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'val'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 设置")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5.")]),s._v(" sessionStorage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("removeItem")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'key'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 删除单个")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6.")]),s._v(" sessionStorage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("clear")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 删除全部")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7.")]),s._v(" 刷新当前页面"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("或者通过location"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("href、window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("open、或者通过带target"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"_blank"')]),s._v("的a标签打开新标签\n   之前的sessionStorage还在"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("但是如果你是主动打开一个新窗口或者新标签"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("sessionStorage则不存在\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8.")]),s._v(" 通过location"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("href、window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("open、或者通过带target"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"_blank"')]),s._v("的a标签方式打开新窗口时"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("会把旧窗口")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("或标签"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n   的sessionStorage数据带过去"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("但从此之后"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("新窗口")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("或标签"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("的sessionStorage的增删改和旧窗口已经没有关系了\n   "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("如果只是在当前标签内跳转新页面")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("或者刷新"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("数据还会保留")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("前提当然是同域"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9.")]),s._v(" sessionStorage不会跨标签页存储\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.")]),s._v(" 在新标签或窗口打开一个页面时会复制顶级浏览会话的上下文作为新会话的上下文\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11.")]),s._v(" 打开多个相同的 "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("URL")]),s._v(" 的 tab 页面，会创建各自的 sessionStorage\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12.")]),s._v(" chrome89 版本后，通过 a 标签 target"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"_blank"')]),s._v(" 跳转到新页面时，sessionStorage 就会丢失\n    a 标签添加属性 rel"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"opener"')]),s._v(" 能够复制，仅仅能复制，之后的更改并不会同步\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// StorageEvent")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.")]),s._v(" localStorage 能触发\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.")]),s._v(" sessionStorage 如果是通过 a 标签打开的不会触发，如果是 iframe 嵌套的会触发\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.")]),s._v(" 通过事件中的 ev"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("storageArea 判断是 localStorage 还是 sessionStorage 触发\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 存储时加密")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.")]),s._v(" encodeURIComponent "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" decodeURIComponent\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.")]),s._v(" window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("btoa "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("atob "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// base64")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.")]),s._v(" crypto"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("subtle "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 复杂加密，web API")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// indexedDB")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.")]),s._v(" indexedDB 是一个事务性数据库系统\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.")]),s._v(" 一个基于 js 的面向对象数据库\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.")]),s._v(" 支持索引\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.")]),s._v(" 可以存储结构化克隆算法支持的任何对象\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5.")]),s._v(" 不能被结构化克隆算法复制的数据（即不能存储的数据）\n  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.")]),s._v(" Error 以及 Function 对象\n  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("DOM")]),s._v(" 节点\n  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.")]),s._v(" 属性描述符，setters、getters\n  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.")]),s._v(" 原型链上的属性\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6.")]),s._v(" 特点\n  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.")]),s._v(" 以键值对方式存储，键可以是二进制对象\n  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.")]),s._v(" 支持事务\n  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.")]),s._v(" 异步操作，基于回调函数的异步，不是 Promise\n  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.")]),s._v(" 遵循同源策略\n  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5.")]),s._v(" 存储空间很大\n  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6.")]),s._v(" 支持直接存储二进制内容\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7.")]),s._v(" 对象模型\n  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.")]),s._v(" IDBFactory "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 打开/创建或者连接/删除数据库")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.")]),s._v(" IDBOpenDBRequest "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 打开数据库的请求")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.")]),s._v(" IDBDatabase "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 数据库连接")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.")]),s._v(" IDBObjectStore "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 数据库中的一个对象库")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5.")]),s._v(" IDBTransaction "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 事务")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6.")]),s._v(" IDBRequest "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 读写操作等异步操作请求")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7.")]),s._v(" IDBCursor "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 游标，用于遍历或迭代数据库中的多条记录")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8.")]),s._v(" IDBCursorWithValue "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 有 value 属性的游标")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9.")]),s._v(" IDBIndex "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 索引")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.")]),s._v(" IDBKeyRange "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 主键，获取或索引一组记录")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8.")]),s._v(" 基本操作流程\n  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.")]),s._v(" 打开数据库\n  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.")]),s._v(" 在数据库中创建"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("打开一个对象仓库\n  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.")]),s._v(" 启动一个事务，并发送一个请求来执行一些数据库操作，像增加或提取数据等\n  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.")]),s._v(" 通过监听事件以等待操作完成\n  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5.")]),s._v(" 继续后续的操作\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9.")]),s._v(" 使用场景\n  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.")]),s._v(" 缓存数据，比如游戏数据\n  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.")]),s._v(" 缓存图片、脚本、json 文件等静态资源\n  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.")]),s._v(" service worker 的第三方库，就有利用到 indexedDB\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.")]),s._v(" indexedDB 封装库\n  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.")]),s._v(" localForage\n    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.")]),s._v(" localForage 通过简单类似 localStorage "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("API")]),s._v(" 的异步存储来改进你的 Web 应用程序的离线体验，它能存储多种类型的数据，不仅仅是字符串\n    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.")]),s._v(" 有降级策略，如不支持 indexedDB 或 WebSQL，则使用 localStorage\n    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.")]),s._v(" 提供回调 "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("API")]),s._v(" 和 Promise "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("API")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.")]),s._v(" dexie"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("js\n    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.")]),s._v(" 解决了原生 indexedDB "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("API")]),s._v(" 的三个主要问题\n      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.")]),s._v(" 不明确的错误处理\n      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.")]),s._v(" 糟糕的查询\n      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.")]),s._v(" 代码复杂性\n  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.")]),s._v(" ZangoDB\n    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.")]),s._v(" 一个类似 MongoDB 的 indexedDB 接口实现，提供了诸如过滤、投影、排序、更新和聚合等大多数 MongoDB 常见的特性\n  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.")]),s._v(" JsStore\n    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.")]),s._v(" 一个具备类似 "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SQL")]),s._v(" 语法的简单和先进的 indexedDB 封装实现\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 什么是认证 | Authentication")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.")]),s._v(" 通俗地讲就是验证当前用户的身份"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("证明“你是你自己”（比如")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("你每天上下班打卡"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("都需要通过指纹打卡\n   当你的指纹和系统里录入的指纹相匹配时"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("就打卡成功）\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("互联网中的认证")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n      用户名密码登录\n      邮箱发送登录链接\n      手机号接收验证码\n      只要你能收到邮箱"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("验证码"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("就默认你是账号的主人\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 什么是授权 | Authorization")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.")]),s._v(" 用户授予第三方应用访问该用户某些资源的权限\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.")]),s._v(" 你在安装手机应用的时候"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("APP")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("会询问是否允许授予权限")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("访问相册、地理位置等权限"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.")]),s._v(" 你在访问微信小程序时"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("当登录时"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("小程序会询问是否允许授予权限")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("获取昵称、头像、地区、性别等个人信息"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("实现授权的方式有")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" cookie、session、token、OAuth\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 什么是凭证 | Credentials")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.")]),s._v(" 实现认证和授权的前提是需要一种媒介（证书） 来标记访问者的身份\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.")]),s._v(" 在战国时期"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("商鞅变法"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("发明了照身帖。照身帖由官府发放"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("是一块打磨光滑细密的竹板"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("上面刻有持有人的头像和籍贯信息\n   国人必须持有"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("如若没有就被认为是黑户"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("或者间谍之类的\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.")]),s._v(" 在现实生活中"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("每个人都会有一张专属的居民身份证"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("是用于证明持有人身份的一种法定证件。通过身份证\n   我们可以办理手机卡"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("银行卡"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("个人贷款"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("交通出行等等"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("这就是认证的凭证。\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.")]),s._v(" 在互联网应用中"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("一般网站（如掘金）会有两种模式"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("游客模式和登录模式。游客模式下"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("可以正常浏览网站上面的文章\n   一旦想要点赞"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("收藏"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("分享文章"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("就需要登录或者注册账号。当用户登录成功后"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("服务器会给该用户使用的浏览器颁发一个令牌（token）\n   这个令牌用来表明你的身份"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("每次浏览器发送请求时会带上这个令牌"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("就可以使用游客模式下无法使用的功能\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 什么是 cookit")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// HTTP 是无状态的协议（对于事务处理没有记忆能力,每次客户端和服务端会话完成时,服务端不会保存任何会话信息）")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 每个请求都是完全独立的,服务端无法确认当前访问者的身份信息,无法分辨上一次的请求发送者和这一次的发送者是不是同一个人")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 所以服务器与浏览器为了进行会话跟踪（知道是谁在访问我）,就必须主动的去维护一个状态")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 这个状态用于告知服务端前后两个请求是否来自同一浏览器,而这个状态需要通过 cookie 或者 session 去实现")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// cookie 存储在客户端: cookie 是服务器发送到用户浏览器并保存在本地的一小块数据")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 它会在浏览器下次向同一服务器再发起请求时被携带并发送到服务器上")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.")]),s._v(" cookit会随每次请求都会加载请求头中发生\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.")]),s._v(" 大小4KB"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("本身是用于sever通信的\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.")]),s._v(" 如果不设置有效时间关闭浏览器就会消失\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.")]),s._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cookit "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//查询")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5.")]),s._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cookit "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'name=cj'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 设置")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6.")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" today "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Date")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n   today"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("setDate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("today"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getDate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n   document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cookit "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'name=cj;expires='")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" today "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 设置过期时间")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7.")]),s._v(" 修改cookit直接重新赋值，注意要保障 path 和 domain 不变\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8.")]),s._v(" 删除cookit可以把有效期设置成少于当前时间即可 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// expires设置的过期时间是UTC格式")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9.")]),s._v(" expires设置的过期时间是"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("UTC")]),s._v("格式"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" 可用 "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Date")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("prototype"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("toUTCString")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" 转换\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.")]),s._v(" domain表示的是cookie所在的域 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// document.cookit = 'name=cj;domain=.abc.com'")]),s._v("\n      设置\n         顶级域名只能设置domain为顶级域名"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("不能设置为二级域名或者三级域名"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("否则cookie无法生成\n         如www"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("abc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("com能设置domain为abc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("com或者www"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("abc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("com"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("但不能设置domain为news"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("abc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("com"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("这样cookie不会生成\n      读取\n         顶级域名只能获取到domain设置为顶级域名的cookie"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("其他domain设置为二级域名的无法获取\n      删除\n         顶级域名的cookie在顶级域名或者二级域名都可以删除"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("但是用非顶级域名访问的网站要删除顶级域名的cookie\n         需要设置获取到的cookie的domain为顶级域名"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("这样才能删除顶级域名的cookie"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("否则无法删除\n         默认的会删除访问的域名下对应的cookie"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("而不是顶级域名的\n         删除二级域名自身生成的cookie不需要设置domain"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("可以直接删除\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11.")]),s._v(" path表示cookie所在的目录 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// document.cookit = 'name=cj;path=/'")]),s._v("\n      cookie1的path为"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("tag"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("\n      cookie2的path为"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("tag"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("id"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("\n      那么tag下的所有页面都可以访问到cookie1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("而"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("tag"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("和"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("tag"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("haorooms"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("的子页面不能访问cookie2\n      这是因为cookie2能让其path路径下的页面访问\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12.")]),s._v(" maxAgecookie 失效的时间"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("单位秒。如果为整数"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("则该 cookie 在 maxAge 秒后失效\n    如果为负数"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("该 cookie 为临时 cookie "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("关闭浏览器即失效"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("浏览器也不会以任何形式保存该 cookie\n    如果为 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("表示删除该 cookie 。默认为 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" 比 expires 好用\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("13.")]),s._v(" cookie 是不可跨域的"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("一级域名和二级域名之间是允许共享使用的")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("靠的是 domain"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("14.")]),s._v(" secure表示 cookie 是否仅被使用安全协议传输"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("安全协议有 "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("HTTPS")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SSL")]),s._v("等"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("在网络上传输数据之前先将数据加密\n    默认为"),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("当 secure 值为 "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v(" 时"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("cookie 在 "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("HTTP")]),s._v(" 中是无效"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("在 "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("HTTPS")]),s._v(" 中才有效\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15.")]),s._v(" httpOnly表示如果给某个 cookie 设置了 httpOnly 属性"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("则无法通过 "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("JS")]),s._v(" 脚本 读取到该 cookie 的信息\n    但还是能通过 Application 中手动修改 cookie"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("所以只是在一定程度上可以防止 "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("XSS")]),s._v(" 攻击"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("不是绝对的安全\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("16.")]),s._v(" SameSite 表示允许服务器设置一定 cookie 不随跨域请求发送，使用时 secure 必须是 "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.")]),s._v(" None：浏览器不限制，同站和跨站都可以发送 cookie\n    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.")]),s._v(" 同源：协议"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("端口"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("域名一致\n    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.")]),s._v(" 同站：有效顶级域名"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("二级域名，不包含端口和协议\n      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.")]),s._v(" 同站例子：a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("taobao"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("com 和 b"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("taobao"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("com\n      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.")]),s._v(" 同站例子："),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".0")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".1")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8000")]),s._v(" 和 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".0")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".1")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("443")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.")]),s._v(" 跨站例子：a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("github"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("io 和 b"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("github"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("io "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// github.io 是一个顶级域名")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.")]),s._v(" Strict：浏览器只在相同站点发送 cookie\n  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.")]),s._v(" Lax：新版浏览器默认选项，允许部分第三方请求携带 cookie，以下 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" 种，跨站时也可以携带\n    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("a href"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// a 标签")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("link href"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v(" rel"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"prerender"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 预加载")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("form method"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"GET"')]),s._v(" action"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// get 表单")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("17.")]),s._v(" cookie 不跨域共享或传递\n   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.")]),s._v(" 前后端要开启 withCredentials 配置，前端是 ajax，后端是 cors 头\n   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.")]),s._v(" 现代浏览器开始禁止第三方 js 设置 cookie，为了打击第三方广告，保护用户隐私\n      在 set"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("cookie 时有对应的属性 SameSite"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" Strict"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("Lax"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("None\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18.")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("注意点")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n      因为存储在客户端"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("容易被客户端篡改"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("使用前需要验证合法性\n      不要存储敏感数据"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("比如用户密码"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("账户余额\n      使用 httpOnly 在一定程度上提高安全性\n      尽量减少 cookie 的体积"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("能存储的数据量不能超过 4kb\n      设置正确的 domain 和 path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("减少数据传输\n      cookie 无法跨域\n      一个浏览器针对一个网站最多存 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(" 个Cookie"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("浏览器一般只允许存放 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("300")]),s._v(" 个Cookie\n      移动端对 cookie 的支持不是很好"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("而 session 需要基于 cookie 实现"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("所以移动端常用的是 token\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19.")]),s._v(" 会话期 cookie：浏览器会话期间的 coookie，浏览器关闭以后自动删除，实现方式是不指定过期时间（expires）和有效期（maxAge）\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20.")]),s._v(" 持久化 cookie：存储在客户端的硬盘中，取决于过期时间和有效期\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("21.")]),s._v(" 新版的 cookie "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("API")]),s._v("，CookieStore，兼容性不太好\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("22.")]),s._v(" 后端通过 set"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("cookie 方法设置 cookie 后需要加了 path 属性，否则在浏览器中的 application 的 cookie 中看不到对应的值\n    如果不设置 path 属性和不设置时间则需要关闭浏览器才可以重置\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23.")]),s._v(" 不同浏览器下的相同的域名使用的 cookie 值不一样，因为每个浏览器的 cookie 的存储方式不一样\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 什么是 Session")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.")]),s._v(" session 是另一种记录服务器和客户端会话状态的机制\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.")]),s._v(" session 是基于 cookie 实现的"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("session 存储在服务器端"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("sessionId 会被存储到客户端的cookie 中\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.")]),s._v(" session 认证流程"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n      用户第一次请求服务器的时候"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("服务器根据用户提交的相关信息"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("创建对应的 Session\n      请求返回时将此 Session 的唯一标识信息 SessionID 返回给浏览器\n      浏览器接收到服务器返回的 SessionID 信息后"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("会将此信息存入到 Cookie 中"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("同时 Cookie 记录此 SessionID 属于哪个域名\n      当用户第二次访问服务器的时候"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("请求会自动判断此域名下是否存在 Cookie 信息"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("如果存在自动将 Cookie 信息也发送给服务端\n      服务端会从 Cookie 中获取 SessionID"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("再根据 SessionID 查找对应的 Session 信息"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("如果没有找到说明用户没有登录或者登录失效\n      如果找到 Session 证明用户已经登录可执行后面操作\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.")]),s._v(" 根据以上流程可知"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("SessionID 是连接 Cookie 和 Session 的一道桥梁"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("大部分系统也是根据此原理来验证用户登录状态\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5.")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("注意点")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n      将 session 存储在服务器里面"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("当用户同时在线量比较多时"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("这些 session 会占据较多的内存"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("需要在服务端定期的去清理过期的 session\n      当网站采用集群部署的时候"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("会遇到多台 web 服务器之间如何做 session 共享的问题"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("因为 session 是由单个服务器创建的\n      但是处理用户请求的服务器不一定是那个创建 session 的服务器"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("那么该服务器就无法拿到之前已经放入到 session 中的登录凭证之类的信息了\n      当多个应用要共享 session 时"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("除了以上问题"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("还会遇到跨域问题"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("因为不同的应用可能部署的主机不一样"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("需要在各个应用做好 cookie 跨域的处理\n      sessionId 是存储在 cookie 中的"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("假如浏览器禁止 cookie 或不支持 cookie 怎么办？\n      一般会把 sessionId 跟在 url 参数后面即重写 url所以 session 不一定非得需要靠 cookie 实现\n      移动端对 cookie 的支持不是很好"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("而 session 需要基于 cookie 实现"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("所以移动端常用的是 token\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Cookie 和 Session 的区别")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("安全性")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" Session 比 Cookie 安全"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("Session 是存储在服务器端的"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("Cookie 是存储在客户端的\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("存取值的类型不同")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" Cookie 只支持存字符串数据"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("想要设置其他类型的数据"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("需要将其转换成字符串"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("Session 可以存任意数据类型\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("有效期不同")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" Cookie 可设置为长时间保持"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("比如我们经常使用的默认登录功能"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("Session 一般失效时间较短\n   客户端关闭（默认情况下）或者 Session 超时都会失效\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("存储大小不同")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" 单个 Cookie 保存的数据不能超过 4K"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("Session 可存储数据远高于 Cookie"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("但是当访问量过多"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("会占用过多的服务器资源\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 什么是 Token（令牌）")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.")]),s._v(" Acesss Token\n   访问资源接口（"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("API")]),s._v("）时所需要的资源凭证\n   简单 token 的组成"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("uid")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("用户唯一的身份标识"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("、time")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("当前时间的时间戳"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("、sign（签名"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("token 的前几位以哈希算法压缩成的一定长度的十六进制字符串）\n   服务端无状态化、可扩展性好、支持移动端设备、安全、支持跨程序调用\n   token 的身份验证流程"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n      客户端使用用户名跟密码请求登录\n      服务端收到请求"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("去验证用户名与密码\n      验证成功后"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("服务端会签发一个 token 并把这个 token 发送给客户端\n      客户端收到 token 以后"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("会把它存储起来"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("比如放在 cookie 里或者 localStorage 里\n      客户端每次向服务端请求资源的时候需要带着服务端签发的 token\n      服务端收到请求"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("然后去验证客户端请求里面带着的 token "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("如果验证成功"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("就向客户端返回请求的数据\n      每一次请求都需要携带 token"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("需要把 token 放到 "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("HTTP")]),s._v(" 的 Header 里\n      基于 token 的用户认证是一种服务端无状态的认证方式"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("服务端不用存放 token 数据\n      用解析 token 的计算时间换取 session 的存储空间"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("从而减轻服务器的压力"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("减少频繁的查询数据库\n      token 完全由应用管理"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("所以它可以避开同源策略\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.")]),s._v(" Refresh Token\n   refresh token 是专用于刷新 access token 的 token"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("如果没有 refresh token"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("也可以刷新 access token\n   但每次刷新都要用户输入登录用户名与密码"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("会很麻烦"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("有了 refresh token"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("可以减少这个麻烦\n   客户端直接用 refresh token 去更新 access token"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("无需用户进行额外的操作\n   Access Token 的有效期比较短"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("当 Acesss Token 由于过期而失效时"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("使用 Refresh Token 就可以获取到新的 Token\n   如果 Refresh Token 也失效了"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("用户就只能重新登录了\n   Refresh Token 及过期时间是存储在服务器的数据库中"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("只有在申请新的 Acesss Token 时才会验证\n   不会对业务接口响应时间造成影响"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("也不需要向 Session 一样一直保持在内存中以应对大量的请求\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("注意点")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n      如果你认为用数据库来存储 token 会导致查询时间太长"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("可以选择放在内存当中。比如 redis 很适合你对 token 查询的需求\n      token 完全由应用管理"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("所以它可以避开同源策略\n      token 可以避免 "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("CSRF")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("攻击")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("因为不需要 cookie 了"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n      移动端对 cookie 的支持不是很好"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("而 session 需要基于 cookie 实现"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("所以移动端常用的是 token\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Token 和 Session 的区别")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.")]),s._v(" Session 是一种记录服务器和客户端会话状态的机制"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("使服务端有状态化"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("可以记录会话信息\n   而 Token 是令牌"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("访问资源接口（"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("API")]),s._v("）时所需要的资源凭证"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("Token 使服务端无状态化"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("不会存储会话信息\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.")]),s._v(" Session 和 Token 并不矛盾"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("作为身份认证 Token 安全性比 Session 好"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("因为每一个请求都有签名还能防止监听以及重放攻击\n   而 Session 就必须依赖链路层来保障通讯安全了。如果你需要实现有状态的会话"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("仍然可以增加 Session 来在服务器端保存一些状态\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.")]),s._v(" 所谓 Session 认证只是简单的把 User 信息存储到 Session 里"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("因为 SessionID 的不可预测性"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("暂且认为是安全的\n   而 Token "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("如果指的是 OAuth Token 或类似的机制的话"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("提供的是 认证 和 授权 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("认证是针对用户"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("授权是针对 App\n   其目的是让某 App 有权利访问某用户的信息"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("这里的 Token 是唯一的"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("不可以转移到其它 App上"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("也不可以转到其它用户上\n   Session 只提供一种简单的认证"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("即只要有此 SessionID "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("即认为有此 User 的全部权利"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("是需要严格保密的\n   这个数据应该只保存在站方"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("不应该共享给其它网站或者第三方 App"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("所以简单来说")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" 如果你的用户数据可能需要和第三方共享\n   或者允许第三方调用 "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("API")]),s._v(" 接口"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("用 Token"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("如果永远只是自己的网站"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("自己的 App"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("用什么就无所谓了\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 什么是 JWT")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("JSON")]),s._v(" Web Token（简称 "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("JWT")]),s._v("）是目前最流行的跨域认证解决方案\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.")]),s._v(" 是一种认证授权机制\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("JWT")]),s._v(" 是为了在网络应用环境间传递声明而执行的一种基于 "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("JSON")]),s._v(" 的开放标准（"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("RFC")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7519")]),s._v("）"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("JWT")]),s._v(" 的声明一般被用来\n   在身份提供者和服务提供者间传递被认证的用户身份信息"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("以便于从资源服务器获取资源"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("比如用在用户登录上\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.")]),s._v(" 可以使用 "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("HMAC")]),s._v(" 算法或者是 "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("RSA")]),s._v(" 的公"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("私秘钥对 "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("JWT")]),s._v(" 进行签名"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("因为数字签名的存在"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("这些传递的信息是可信的\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5.")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("JWT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("认证流程")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n      用户输入用户名"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("密码登录"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("服务端认证成功后"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("会返回给客户端一个 "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("JWT")]),s._v("\n      客户端将 token 保存到本地（通常使用 localstorage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("也可以使用 cookie）\n      当用户希望访问一个受保护的路由或者资源的时候"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("需要请求头的 Authorization 字段中使用Bearer 模式添加 "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("JWT")]),s._v("\n         "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("如")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" Authorization"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" Bearer复制代码\n      服务端的保护路由将会检查请求头 Authorization 中的 "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("JWT")]),s._v(" 信息"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("如果合法"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("则允许用户的行为\n      因为 "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("JWT")]),s._v(" 是自包含的（内部包含了一些会话信息）"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("因此减少了需要查询数据库的需要\n      因为 "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("JWT")]),s._v(" 并不使用 Cookie 的"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("所以你可以使用任何域名提供你的 "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("API")]),s._v(" 服务而不需要担心跨域资源共享问题（"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("CORS")]),s._v("）\n      因为用户的状态不再存储在服务端的内存中"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("所以这是一种无状态的认证机制\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6.")]),s._v(" 使用方式\n      客户端收到服务器返回的 "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("JWT")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("可以储存在 Cookie 里面"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("也可以储存在 localStorage\n      当用户希望访问一个受保护的路由或者资源的时候"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("可以把它放在 Cookie 里面自动发送"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("但是这样不能跨域\n      所以更好的做法是放在 "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("HTTP")]),s._v(" 请求头信息的 Authorization 字段里"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("使用 Bearer 模式添加 "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("JWT")]),s._v("\n      用户的状态不会存储在服务端的内存中"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("这是一种 无状态的认证机制\n      服务端的保护路由将会检查请求头 Authorization 中的 "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("JWT")]),s._v(" 信息"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("如果合法"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("则允许用户的行为\n      由于 "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("JWT")]),s._v(" 是自包含的"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("因此减少了需要查询数据库的需要\n      "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("JWT")]),s._v(" 的这些特性使得我们可以完全依赖其无状态的特性提供数据 "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("API")]),s._v(" 服务"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("甚至是创建一个下载流服务\n      因为 "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("JWT")]),s._v(" 并不使用 Cookie "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("所以你可以使用任何域名提供你的 "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("API")]),s._v(" 服务而不需要担心跨域资源共享问题（"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("CORS")]),s._v("）\n      跨域的时候"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("可以把 "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("JWT")]),s._v(" 放在 "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("POST")]),s._v(" 请求的数据体里\n      通过 "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("URL")]),s._v(" 传输\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7.")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("注意点")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n      因为 "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("JWT")]),s._v(" 并不依赖 Cookie 的"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("所以你可以使用任何域名提供你的 "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("API")]),s._v(" 服务而不需要担心跨域资源共享问题（"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("CORS")]),s._v("）\n      "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("JWT")]),s._v(" 默认是不加密"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("但也是可以加密的。生成原始 Token 以后"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("可以用密钥再加密一次\n      "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("JWT")]),s._v(" 不加密的情况下"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("不能将秘密数据写入 "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("JWT")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("JWT")]),s._v(" 不仅可以用于认证"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("也可以用于交换信息。有效使用 "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("JWT")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("可以降低服务器查询数据库的次数\n      "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("JWT")]),s._v(" 最大的优势是服务器不再需要存储 Session"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("使得服务器认证鉴权业务可以方便扩展。但这也是 "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("JWT")]),s._v(" 最大的缺点\n      由于服务器不需要存储 Session 状态"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("因此使用过程中无法废弃某个 Token 或者更改 Token 的权限\n      也就是说一旦 "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("JWT")]),s._v(" 签发了"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("到期之前就会始终有效"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("除非服务器部署额外的逻辑\n      "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("JWT")]),s._v(" 本身包含了认证信息"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("一旦泄露"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("任何人都可以获得该令牌的所有权限。为了减少盗用\n      "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("JWT")]),s._v("的有效期应该设置得比较短。对于一些比较重要的权限"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("使用时应该再次对用户进行认证\n      "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("JWT")]),s._v(" 适合一次性的命令认证"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("颁发一个有效期极短的 "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("JWT")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("即使暴露了危险也很小\n      由于每次操作都会生成新的 "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("JWT")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("因此也没必要保存 "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("JWT")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("真正实现无状态\n      为了减少盗用"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("JWT")]),s._v(" 不应该使用 "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("HTTP")]),s._v(" 协议明码传输"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("要使用 "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("HTTPS")]),s._v(" 协议传输\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Token 和 JWT 的区别")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("相同")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n      都是访问资源的令牌\n      都可以记录用户的信息\n      都是使服务端无状态化\n      都是只有验证成功后"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("客户端才能访问服务端上受保护的资源\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("区别")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n      Token：服务端验证客户端发送过来的 Token 时"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("还需要查询数据库获取用户信息"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("然后验证 Token 是否有效\n      "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("JWT")]),s._v("：将 Token 和 Payload 加密后存储于客户端"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("服务端只需要使用密钥解密进行校验（校验也是 "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("JWT")]),s._v(" 自己实现的）即可\n      不需要查询或者减少查询数据库"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("因为 "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("JWT")]),s._v(" 自包含了用户信息和加密的数据\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 常见的前后端鉴权方式")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.")]),s._v(" Session"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("Cookie\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.")]),s._v(" Token 验证（包括 "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("JWT")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SSO")]),s._v("）\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.")]),s._v(" OAuth2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("（开放授权），如使用微信扫码登录，"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("QQ")]),s._v(" 登录等第三方\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 如何实现 SSO 单点登录，即在百度登录了，访问百度图片时就默认登录了")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.")]),s._v(" 主域名相同，则可共享 cookie\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.")]),s._v(" 主域名不同，则需使用 "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SSO")]),s._v("，即登录模块使用第三方，多个系统的登录都需要集成第三方，本身不需要做登录逻辑\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 常见的加密算法")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("哈希算法")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Hash Algorithm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("又称散列算法、散列函数、哈希函数"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("是一种从任何一种数据中创建小的数字“指纹”的方法\n   哈希算法将数据重新打乱混合"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("重新创建一个哈希值\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("哈希算法主要用来保障数据真实性")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("即完整性"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("即发信人将原始消息和哈希值一起发送"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("收信人通过相同的哈希函数来校验原始数据是否真实\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("哈希算法通常有以下几个特点")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n      正像快速：原始数据可以快速计算出哈希值\n      逆向困难：通过哈希值基本不可能推导出原始数据\n      输入敏感：原始数据只要有一点变动"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("得到的哈希值差别很大\n      冲突避免：很难找到不同的原始数据得到相同的哈希值"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("宇宙中原子数大约在 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" 的 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("60")]),s._v(" 次方到 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v(" 次方之间\n      所以 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" 的 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("256")]),s._v(" 次方有足够的空间容纳所有的可能"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("算法好的情况下冲突碰撞的概率很低\n      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" 的 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("128")]),s._v(" 次方为 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("340282366920938463463374607431768211456")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("也就是 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" 的 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("39")]),s._v(" 次方级别\n      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" 的 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("160")]),s._v(" 次方为 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.4615016373309029182036848327163e+48")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("也就是 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" 的 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("48")]),s._v(" 次方级别\n      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" 的 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("256")]),s._v(" 次方为 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.1579208923731619542357098500869")]),s._v(" × "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" 的 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("77")]),s._v(" 次方"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("也就是 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" 的 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("77")]),s._v(" 次方\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.")]),s._v(" 以上不能保证数据被恶意篡改"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("原始数据和哈希值都可能被恶意篡改"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("要保证不被篡改"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("可以使用"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("RSA")]),s._v(" 公钥私钥方案"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("再配合哈希值\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5.")]),s._v(" 哈希算法主要用来防止计算机传输过程中的错误"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("早期计算机通过前 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v(" 位数据第 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(" 位奇偶校验码来保障（"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12.5")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("%")]),s._v(" 的浪费效率低）\n   对于一段数据或文件"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("通过哈希算法生成 128bit 或者 256bit 的哈希值"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("如果校验有问题就要求重传\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6.")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("注意点")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n      绝不要以明文存储密码\n      永远使用 哈希算法 来处理密码"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("绝不要使用 Base64 或其他编码方式来存储密码"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("这和以明文存储密码是一样的\n      使用哈希"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("而不要使用编码。编码以及加密"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("都是双向的过程"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("而密码是保密的"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("应该只被它的所有者知道\n      这个过程必须是单向的。哈希正是用于做这个的"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("从来没有解哈希这种说法"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" 但是编码就存在解码"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("加密就存在解密\n      绝不要使用弱哈希或已被破解的哈希算法"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("像 "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("MD5")]),s._v(" 或 "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SHA1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("只使用强密码哈希算法\n      绝不要以明文形式显示或发送密码"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("即使是对密码的所有者也应该这样。如果你需要 “忘记密码” 的功能\n      可以随机生成一个新的 一次性的（这点很重要）密码"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("然后把这个密码发送给用户\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br"),a("span",{staticClass:"line-number"},[s._v("52")]),a("br"),a("span",{staticClass:"line-number"},[s._v("53")]),a("br"),a("span",{staticClass:"line-number"},[s._v("54")]),a("br"),a("span",{staticClass:"line-number"},[s._v("55")]),a("br"),a("span",{staticClass:"line-number"},[s._v("56")]),a("br"),a("span",{staticClass:"line-number"},[s._v("57")]),a("br"),a("span",{staticClass:"line-number"},[s._v("58")]),a("br"),a("span",{staticClass:"line-number"},[s._v("59")]),a("br"),a("span",{staticClass:"line-number"},[s._v("60")]),a("br"),a("span",{staticClass:"line-number"},[s._v("61")]),a("br"),a("span",{staticClass:"line-number"},[s._v("62")]),a("br"),a("span",{staticClass:"line-number"},[s._v("63")]),a("br"),a("span",{staticClass:"line-number"},[s._v("64")]),a("br"),a("span",{staticClass:"line-number"},[s._v("65")]),a("br"),a("span",{staticClass:"line-number"},[s._v("66")]),a("br"),a("span",{staticClass:"line-number"},[s._v("67")]),a("br"),a("span",{staticClass:"line-number"},[s._v("68")]),a("br"),a("span",{staticClass:"line-number"},[s._v("69")]),a("br"),a("span",{staticClass:"line-number"},[s._v("70")]),a("br"),a("span",{staticClass:"line-number"},[s._v("71")]),a("br"),a("span",{staticClass:"line-number"},[s._v("72")]),a("br"),a("span",{staticClass:"line-number"},[s._v("73")]),a("br"),a("span",{staticClass:"line-number"},[s._v("74")]),a("br"),a("span",{staticClass:"line-number"},[s._v("75")]),a("br"),a("span",{staticClass:"line-number"},[s._v("76")]),a("br"),a("span",{staticClass:"line-number"},[s._v("77")]),a("br"),a("span",{staticClass:"line-number"},[s._v("78")]),a("br"),a("span",{staticClass:"line-number"},[s._v("79")]),a("br"),a("span",{staticClass:"line-number"},[s._v("80")]),a("br"),a("span",{staticClass:"line-number"},[s._v("81")]),a("br"),a("span",{staticClass:"line-number"},[s._v("82")]),a("br"),a("span",{staticClass:"line-number"},[s._v("83")]),a("br"),a("span",{staticClass:"line-number"},[s._v("84")]),a("br"),a("span",{staticClass:"line-number"},[s._v("85")]),a("br"),a("span",{staticClass:"line-number"},[s._v("86")]),a("br"),a("span",{staticClass:"line-number"},[s._v("87")]),a("br"),a("span",{staticClass:"line-number"},[s._v("88")]),a("br"),a("span",{staticClass:"line-number"},[s._v("89")]),a("br"),a("span",{staticClass:"line-number"},[s._v("90")]),a("br"),a("span",{staticClass:"line-number"},[s._v("91")]),a("br"),a("span",{staticClass:"line-number"},[s._v("92")]),a("br"),a("span",{staticClass:"line-number"},[s._v("93")]),a("br"),a("span",{staticClass:"line-number"},[s._v("94")]),a("br"),a("span",{staticClass:"line-number"},[s._v("95")]),a("br"),a("span",{staticClass:"line-number"},[s._v("96")]),a("br"),a("span",{staticClass:"line-number"},[s._v("97")]),a("br"),a("span",{staticClass:"line-number"},[s._v("98")]),a("br"),a("span",{staticClass:"line-number"},[s._v("99")]),a("br"),a("span",{staticClass:"line-number"},[s._v("100")]),a("br"),a("span",{staticClass:"line-number"},[s._v("101")]),a("br"),a("span",{staticClass:"line-number"},[s._v("102")]),a("br"),a("span",{staticClass:"line-number"},[s._v("103")]),a("br"),a("span",{staticClass:"line-number"},[s._v("104")]),a("br"),a("span",{staticClass:"line-number"},[s._v("105")]),a("br"),a("span",{staticClass:"line-number"},[s._v("106")]),a("br"),a("span",{staticClass:"line-number"},[s._v("107")]),a("br"),a("span",{staticClass:"line-number"},[s._v("108")]),a("br"),a("span",{staticClass:"line-number"},[s._v("109")]),a("br"),a("span",{staticClass:"line-number"},[s._v("110")]),a("br"),a("span",{staticClass:"line-number"},[s._v("111")]),a("br"),a("span",{staticClass:"line-number"},[s._v("112")]),a("br"),a("span",{staticClass:"line-number"},[s._v("113")]),a("br"),a("span",{staticClass:"line-number"},[s._v("114")]),a("br"),a("span",{staticClass:"line-number"},[s._v("115")]),a("br"),a("span",{staticClass:"line-number"},[s._v("116")]),a("br"),a("span",{staticClass:"line-number"},[s._v("117")]),a("br"),a("span",{staticClass:"line-number"},[s._v("118")]),a("br"),a("span",{staticClass:"line-number"},[s._v("119")]),a("br"),a("span",{staticClass:"line-number"},[s._v("120")]),a("br"),a("span",{staticClass:"line-number"},[s._v("121")]),a("br"),a("span",{staticClass:"line-number"},[s._v("122")]),a("br"),a("span",{staticClass:"line-number"},[s._v("123")]),a("br"),a("span",{staticClass:"line-number"},[s._v("124")]),a("br"),a("span",{staticClass:"line-number"},[s._v("125")]),a("br"),a("span",{staticClass:"line-number"},[s._v("126")]),a("br"),a("span",{staticClass:"line-number"},[s._v("127")]),a("br"),a("span",{staticClass:"line-number"},[s._v("128")]),a("br"),a("span",{staticClass:"line-number"},[s._v("129")]),a("br"),a("span",{staticClass:"line-number"},[s._v("130")]),a("br"),a("span",{staticClass:"line-number"},[s._v("131")]),a("br"),a("span",{staticClass:"line-number"},[s._v("132")]),a("br"),a("span",{staticClass:"line-number"},[s._v("133")]),a("br"),a("span",{staticClass:"line-number"},[s._v("134")]),a("br"),a("span",{staticClass:"line-number"},[s._v("135")]),a("br"),a("span",{staticClass:"line-number"},[s._v("136")]),a("br"),a("span",{staticClass:"line-number"},[s._v("137")]),a("br"),a("span",{staticClass:"line-number"},[s._v("138")]),a("br"),a("span",{staticClass:"line-number"},[s._v("139")]),a("br"),a("span",{staticClass:"line-number"},[s._v("140")]),a("br"),a("span",{staticClass:"line-number"},[s._v("141")]),a("br"),a("span",{staticClass:"line-number"},[s._v("142")]),a("br"),a("span",{staticClass:"line-number"},[s._v("143")]),a("br"),a("span",{staticClass:"line-number"},[s._v("144")]),a("br"),a("span",{staticClass:"line-number"},[s._v("145")]),a("br"),a("span",{staticClass:"line-number"},[s._v("146")]),a("br"),a("span",{staticClass:"line-number"},[s._v("147")]),a("br"),a("span",{staticClass:"line-number"},[s._v("148")]),a("br"),a("span",{staticClass:"line-number"},[s._v("149")]),a("br"),a("span",{staticClass:"line-number"},[s._v("150")]),a("br"),a("span",{staticClass:"line-number"},[s._v("151")]),a("br"),a("span",{staticClass:"line-number"},[s._v("152")]),a("br"),a("span",{staticClass:"line-number"},[s._v("153")]),a("br"),a("span",{staticClass:"line-number"},[s._v("154")]),a("br"),a("span",{staticClass:"line-number"},[s._v("155")]),a("br"),a("span",{staticClass:"line-number"},[s._v("156")]),a("br"),a("span",{staticClass:"line-number"},[s._v("157")]),a("br"),a("span",{staticClass:"line-number"},[s._v("158")]),a("br"),a("span",{staticClass:"line-number"},[s._v("159")]),a("br"),a("span",{staticClass:"line-number"},[s._v("160")]),a("br"),a("span",{staticClass:"line-number"},[s._v("161")]),a("br"),a("span",{staticClass:"line-number"},[s._v("162")]),a("br"),a("span",{staticClass:"line-number"},[s._v("163")]),a("br"),a("span",{staticClass:"line-number"},[s._v("164")]),a("br"),a("span",{staticClass:"line-number"},[s._v("165")]),a("br"),a("span",{staticClass:"line-number"},[s._v("166")]),a("br"),a("span",{staticClass:"line-number"},[s._v("167")]),a("br"),a("span",{staticClass:"line-number"},[s._v("168")]),a("br"),a("span",{staticClass:"line-number"},[s._v("169")]),a("br"),a("span",{staticClass:"line-number"},[s._v("170")]),a("br"),a("span",{staticClass:"line-number"},[s._v("171")]),a("br"),a("span",{staticClass:"line-number"},[s._v("172")]),a("br"),a("span",{staticClass:"line-number"},[s._v("173")]),a("br"),a("span",{staticClass:"line-number"},[s._v("174")]),a("br"),a("span",{staticClass:"line-number"},[s._v("175")]),a("br"),a("span",{staticClass:"line-number"},[s._v("176")]),a("br"),a("span",{staticClass:"line-number"},[s._v("177")]),a("br"),a("span",{staticClass:"line-number"},[s._v("178")]),a("br"),a("span",{staticClass:"line-number"},[s._v("179")]),a("br"),a("span",{staticClass:"line-number"},[s._v("180")]),a("br"),a("span",{staticClass:"line-number"},[s._v("181")]),a("br"),a("span",{staticClass:"line-number"},[s._v("182")]),a("br"),a("span",{staticClass:"line-number"},[s._v("183")]),a("br"),a("span",{staticClass:"line-number"},[s._v("184")]),a("br"),a("span",{staticClass:"line-number"},[s._v("185")]),a("br"),a("span",{staticClass:"line-number"},[s._v("186")]),a("br"),a("span",{staticClass:"line-number"},[s._v("187")]),a("br"),a("span",{staticClass:"line-number"},[s._v("188")]),a("br"),a("span",{staticClass:"line-number"},[s._v("189")]),a("br"),a("span",{staticClass:"line-number"},[s._v("190")]),a("br"),a("span",{staticClass:"line-number"},[s._v("191")]),a("br"),a("span",{staticClass:"line-number"},[s._v("192")]),a("br"),a("span",{staticClass:"line-number"},[s._v("193")]),a("br"),a("span",{staticClass:"line-number"},[s._v("194")]),a("br"),a("span",{staticClass:"line-number"},[s._v("195")]),a("br"),a("span",{staticClass:"line-number"},[s._v("196")]),a("br"),a("span",{staticClass:"line-number"},[s._v("197")]),a("br"),a("span",{staticClass:"line-number"},[s._v("198")]),a("br"),a("span",{staticClass:"line-number"},[s._v("199")]),a("br"),a("span",{staticClass:"line-number"},[s._v("200")]),a("br"),a("span",{staticClass:"line-number"},[s._v("201")]),a("br"),a("span",{staticClass:"line-number"},[s._v("202")]),a("br"),a("span",{staticClass:"line-number"},[s._v("203")]),a("br"),a("span",{staticClass:"line-number"},[s._v("204")]),a("br"),a("span",{staticClass:"line-number"},[s._v("205")]),a("br"),a("span",{staticClass:"line-number"},[s._v("206")]),a("br"),a("span",{staticClass:"line-number"},[s._v("207")]),a("br"),a("span",{staticClass:"line-number"},[s._v("208")]),a("br"),a("span",{staticClass:"line-number"},[s._v("209")]),a("br"),a("span",{staticClass:"line-number"},[s._v("210")]),a("br"),a("span",{staticClass:"line-number"},[s._v("211")]),a("br"),a("span",{staticClass:"line-number"},[s._v("212")]),a("br"),a("span",{staticClass:"line-number"},[s._v("213")]),a("br"),a("span",{staticClass:"line-number"},[s._v("214")]),a("br"),a("span",{staticClass:"line-number"},[s._v("215")]),a("br"),a("span",{staticClass:"line-number"},[s._v("216")]),a("br"),a("span",{staticClass:"line-number"},[s._v("217")]),a("br"),a("span",{staticClass:"line-number"},[s._v("218")]),a("br"),a("span",{staticClass:"line-number"},[s._v("219")]),a("br"),a("span",{staticClass:"line-number"},[s._v("220")]),a("br"),a("span",{staticClass:"line-number"},[s._v("221")]),a("br"),a("span",{staticClass:"line-number"},[s._v("222")]),a("br"),a("span",{staticClass:"line-number"},[s._v("223")]),a("br"),a("span",{staticClass:"line-number"},[s._v("224")]),a("br"),a("span",{staticClass:"line-number"},[s._v("225")]),a("br"),a("span",{staticClass:"line-number"},[s._v("226")]),a("br"),a("span",{staticClass:"line-number"},[s._v("227")]),a("br"),a("span",{staticClass:"line-number"},[s._v("228")]),a("br"),a("span",{staticClass:"line-number"},[s._v("229")]),a("br"),a("span",{staticClass:"line-number"},[s._v("230")]),a("br"),a("span",{staticClass:"line-number"},[s._v("231")]),a("br"),a("span",{staticClass:"line-number"},[s._v("232")]),a("br"),a("span",{staticClass:"line-number"},[s._v("233")]),a("br"),a("span",{staticClass:"line-number"},[s._v("234")]),a("br"),a("span",{staticClass:"line-number"},[s._v("235")]),a("br"),a("span",{staticClass:"line-number"},[s._v("236")]),a("br"),a("span",{staticClass:"line-number"},[s._v("237")]),a("br"),a("span",{staticClass:"line-number"},[s._v("238")]),a("br"),a("span",{staticClass:"line-number"},[s._v("239")]),a("br"),a("span",{staticClass:"line-number"},[s._v("240")]),a("br"),a("span",{staticClass:"line-number"},[s._v("241")]),a("br"),a("span",{staticClass:"line-number"},[s._v("242")]),a("br"),a("span",{staticClass:"line-number"},[s._v("243")]),a("br"),a("span",{staticClass:"line-number"},[s._v("244")]),a("br"),a("span",{staticClass:"line-number"},[s._v("245")]),a("br"),a("span",{staticClass:"line-number"},[s._v("246")]),a("br"),a("span",{staticClass:"line-number"},[s._v("247")]),a("br"),a("span",{staticClass:"line-number"},[s._v("248")]),a("br"),a("span",{staticClass:"line-number"},[s._v("249")]),a("br"),a("span",{staticClass:"line-number"},[s._v("250")]),a("br"),a("span",{staticClass:"line-number"},[s._v("251")]),a("br"),a("span",{staticClass:"line-number"},[s._v("252")]),a("br"),a("span",{staticClass:"line-number"},[s._v("253")]),a("br"),a("span",{staticClass:"line-number"},[s._v("254")]),a("br"),a("span",{staticClass:"line-number"},[s._v("255")]),a("br"),a("span",{staticClass:"line-number"},[s._v("256")]),a("br"),a("span",{staticClass:"line-number"},[s._v("257")]),a("br"),a("span",{staticClass:"line-number"},[s._v("258")]),a("br"),a("span",{staticClass:"line-number"},[s._v("259")]),a("br"),a("span",{staticClass:"line-number"},[s._v("260")]),a("br"),a("span",{staticClass:"line-number"},[s._v("261")]),a("br"),a("span",{staticClass:"line-number"},[s._v("262")]),a("br"),a("span",{staticClass:"line-number"},[s._v("263")]),a("br"),a("span",{staticClass:"line-number"},[s._v("264")]),a("br"),a("span",{staticClass:"line-number"},[s._v("265")]),a("br"),a("span",{staticClass:"line-number"},[s._v("266")]),a("br"),a("span",{staticClass:"line-number"},[s._v("267")]),a("br"),a("span",{staticClass:"line-number"},[s._v("268")]),a("br"),a("span",{staticClass:"line-number"},[s._v("269")]),a("br"),a("span",{staticClass:"line-number"},[s._v("270")]),a("br"),a("span",{staticClass:"line-number"},[s._v("271")]),a("br"),a("span",{staticClass:"line-number"},[s._v("272")]),a("br"),a("span",{staticClass:"line-number"},[s._v("273")]),a("br"),a("span",{staticClass:"line-number"},[s._v("274")]),a("br"),a("span",{staticClass:"line-number"},[s._v("275")]),a("br"),a("span",{staticClass:"line-number"},[s._v("276")]),a("br"),a("span",{staticClass:"line-number"},[s._v("277")]),a("br"),a("span",{staticClass:"line-number"},[s._v("278")]),a("br"),a("span",{staticClass:"line-number"},[s._v("279")]),a("br"),a("span",{staticClass:"line-number"},[s._v("280")]),a("br"),a("span",{staticClass:"line-number"},[s._v("281")]),a("br"),a("span",{staticClass:"line-number"},[s._v("282")]),a("br"),a("span",{staticClass:"line-number"},[s._v("283")]),a("br"),a("span",{staticClass:"line-number"},[s._v("284")]),a("br"),a("span",{staticClass:"line-number"},[s._v("285")]),a("br"),a("span",{staticClass:"line-number"},[s._v("286")]),a("br"),a("span",{staticClass:"line-number"},[s._v("287")]),a("br"),a("span",{staticClass:"line-number"},[s._v("288")]),a("br"),a("span",{staticClass:"line-number"},[s._v("289")]),a("br"),a("span",{staticClass:"line-number"},[s._v("290")]),a("br"),a("span",{staticClass:"line-number"},[s._v("291")]),a("br"),a("span",{staticClass:"line-number"},[s._v("292")]),a("br"),a("span",{staticClass:"line-number"},[s._v("293")]),a("br"),a("span",{staticClass:"line-number"},[s._v("294")]),a("br"),a("span",{staticClass:"line-number"},[s._v("295")]),a("br"),a("span",{staticClass:"line-number"},[s._v("296")]),a("br"),a("span",{staticClass:"line-number"},[s._v("297")]),a("br"),a("span",{staticClass:"line-number"},[s._v("298")]),a("br"),a("span",{staticClass:"line-number"},[s._v("299")]),a("br"),a("span",{staticClass:"line-number"},[s._v("300")]),a("br"),a("span",{staticClass:"line-number"},[s._v("301")]),a("br"),a("span",{staticClass:"line-number"},[s._v("302")]),a("br"),a("span",{staticClass:"line-number"},[s._v("303")]),a("br"),a("span",{staticClass:"line-number"},[s._v("304")]),a("br"),a("span",{staticClass:"line-number"},[s._v("305")]),a("br"),a("span",{staticClass:"line-number"},[s._v("306")]),a("br"),a("span",{staticClass:"line-number"},[s._v("307")]),a("br"),a("span",{staticClass:"line-number"},[s._v("308")]),a("br"),a("span",{staticClass:"line-number"},[s._v("309")]),a("br"),a("span",{staticClass:"line-number"},[s._v("310")]),a("br"),a("span",{staticClass:"line-number"},[s._v("311")]),a("br"),a("span",{staticClass:"line-number"},[s._v("312")]),a("br"),a("span",{staticClass:"line-number"},[s._v("313")]),a("br"),a("span",{staticClass:"line-number"},[s._v("314")]),a("br"),a("span",{staticClass:"line-number"},[s._v("315")]),a("br"),a("span",{staticClass:"line-number"},[s._v("316")]),a("br"),a("span",{staticClass:"line-number"},[s._v("317")]),a("br"),a("span",{staticClass:"line-number"},[s._v("318")]),a("br"),a("span",{staticClass:"line-number"},[s._v("319")]),a("br"),a("span",{staticClass:"line-number"},[s._v("320")]),a("br"),a("span",{staticClass:"line-number"},[s._v("321")]),a("br"),a("span",{staticClass:"line-number"},[s._v("322")]),a("br"),a("span",{staticClass:"line-number"},[s._v("323")]),a("br"),a("span",{staticClass:"line-number"},[s._v("324")]),a("br"),a("span",{staticClass:"line-number"},[s._v("325")]),a("br"),a("span",{staticClass:"line-number"},[s._v("326")]),a("br"),a("span",{staticClass:"line-number"},[s._v("327")]),a("br"),a("span",{staticClass:"line-number"},[s._v("328")]),a("br"),a("span",{staticClass:"line-number"},[s._v("329")]),a("br"),a("span",{staticClass:"line-number"},[s._v("330")]),a("br"),a("span",{staticClass:"line-number"},[s._v("331")]),a("br"),a("span",{staticClass:"line-number"},[s._v("332")]),a("br"),a("span",{staticClass:"line-number"},[s._v("333")]),a("br"),a("span",{staticClass:"line-number"},[s._v("334")]),a("br"),a("span",{staticClass:"line-number"},[s._v("335")]),a("br"),a("span",{staticClass:"line-number"},[s._v("336")]),a("br"),a("span",{staticClass:"line-number"},[s._v("337")]),a("br"),a("span",{staticClass:"line-number"},[s._v("338")]),a("br"),a("span",{staticClass:"line-number"},[s._v("339")]),a("br"),a("span",{staticClass:"line-number"},[s._v("340")]),a("br"),a("span",{staticClass:"line-number"},[s._v("341")]),a("br"),a("span",{staticClass:"line-number"},[s._v("342")]),a("br"),a("span",{staticClass:"line-number"},[s._v("343")]),a("br"),a("span",{staticClass:"line-number"},[s._v("344")]),a("br"),a("span",{staticClass:"line-number"},[s._v("345")]),a("br"),a("span",{staticClass:"line-number"},[s._v("346")]),a("br"),a("span",{staticClass:"line-number"},[s._v("347")]),a("br"),a("span",{staticClass:"line-number"},[s._v("348")]),a("br"),a("span",{staticClass:"line-number"},[s._v("349")]),a("br"),a("span",{staticClass:"line-number"},[s._v("350")]),a("br"),a("span",{staticClass:"line-number"},[s._v("351")]),a("br"),a("span",{staticClass:"line-number"},[s._v("352")]),a("br"),a("span",{staticClass:"line-number"},[s._v("353")]),a("br")])])])}),[],!1,null,null,null);t.default=n.exports}}]);