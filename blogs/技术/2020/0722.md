---
title: vue修改子组件样式
date: 2020-07-22
tags:
  - vue
categories:
  - 技术
---

在 vue 组件中为 style 标签开启 scoped 属性，这样样式只作用于这个组件，而不会污染其他组件。

在项目中，我们经常要引入外部的 UI 组件（如 elementUI、mint-ui），但是在父组件中添加 scoped 属性后，父组件的样式将不会渗透到子组件中，所以在父组件中书写子组件的样式是无效果的。

下面有几种方法来修改子组件样式：

1. 去掉 scoped
   在父组件的 style 中去掉 scoped 后，父组件中可以书写子组件的样式。但这样会污染别的组件中的样式

2. 混用本地和全局样式
   你可以在一个组件中同时使用有作用域和无作用域的样式：

```js
<style lang="sass" scoped>
/* 本地样式 */
</style>
<style lang="sass">
/* 全局样式
*  修改子组件样式，最好在子组件外嵌套一个类
*/
</style>
```

3. 深选择器
   如果你希望 scoped 样式中的一个选择器能够作用得“更深”，例如影响子组件，你可以使用 >>> 操作符：

```js
<template>
  <div id="app">
    <my-header></my-header>
  </div>
</template>

<style scoped>
  .myHeader >>> .title {
    color: red;
  }
</style>
```

```js
<div class="myHeader">
  <div class="title"></div>
</div>
```

有些像 SASS 之类的预处理器无法正确解析 >>>。这种情况下你可以用 /deep/ 操作符取而代之 —— 这是一个 >>> 的别名，同样可以正常工作。

```js
<style scoped>
  .myHeader /deep/ .title {
    color: red;
  }
</style>
```

这样的写法及修改了子组件的样式，又不会污染全局样式！

注意：通过 v-html 创建的 DOM 内容不受作用域内的样式影响，但是你仍然可以通过深度作用选择器来为他们设置样式。

::: tip
作者：lakey0126 <br>
链接：https://juejin.im/post/5d0b3a5be51d45108c59a54e <br>
来源：掘金
:::
